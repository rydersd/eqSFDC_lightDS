<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EQ Lightning ‚Äî Order</title>
    <link rel="stylesheet" href="assets/styles/salesforce-lightning-design-system.min.css">
    <link rel="stylesheet" href="eq-lightning.css">
</head>
<body>
<div class="slds-scope" id="app">
<main id="main-content">

        <!-- HIGHLIGHTS PANEL ‚Äî rendered by eq-components.js -->
        <div id="eq-header"></div>

        <div class="eq-story-block">
            Sir Galahad the Pure handles all procurement for the Knights Who Say Ni. He approaches every purchase order with an almost spiritual dedication to accuracy. When the Castle Anthrax sales team tried to lure him with aggressive discounting and "special offers," he nearly succumbed ‚Äî "It's not a very good deal, is it? I mean, I could stay a while..." ‚Äî but Sir Lancelot burst in and dragged him back to proper vendor evaluation. The existing order covers their initial deployment: 2 cabs in LD5 plus Fabric ports for the Shrubbery-as-a-Service beta. In the old Salesforce system, this order had 138 fields spread across 5+ screens. Galahad had to open Siebel to see the billing details, then back to Salesforce for the line items, then into a spreadsheet for the rack layout. He called it "the temptation of swivel-chairing."<br><br>
            <strong>üå≥ Design discussion:</strong> Orders are the most field-heavy object at Equinix. Left = order terms and contract details. Center = fulfillment status and provisioning timeline. Right = line items and billing. Key question: <em>which of these 138 fields do users actually need vs. which are system-only audit trails?</em> We propose categorizing every field into: Required, Reference, Audit Trail, System-only ‚Äî and only showing the first two by default.
        </div>

        <!-- PATH ‚Äî rendered by EQ.renderPath() -->
        <div id="eq-path"></div>

        <div class="eq-record-body">
            <!-- LEFT COLUMN: Related -->
            <div>
                <div class="slds-card">
                    <div class="slds-card__header">
                        <div class="slds-media slds-media_small">
                            <div class="slds-media__figure">
                                <span class="slds-icon_container slds-icon-standard-orders">
                                    <svg class="slds-icon slds-icon_small" aria-hidden="true">
                                        <use href="assets/icons/standard-sprite/svg/symbols.svg#orders"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="slds-media__body">
                                <h2 class="slds-card__header-title slds-text-heading_small">Order Line Items (3)</h2>
                            </div>
                        </div>
                    </div>
                    <div class="slds-card__body slds-card__body_inner">
                        <div class="eq-related-item">
                            <div class="eq-related-item-title">Colocation Cabinet ‚Äî Full ("Shrubbery Rack A")</div>
                            <div class="eq-related-item-fields">
                                <span class="eq-related-item-field">IBX: <strong>LD5</strong></span>
                                <span class="eq-related-item-field">Qty: <strong>1</strong></span>
                                <span class="eq-related-item-field">MRC: <strong>$9,000</strong></span>
                                <span class="eq-related-item-field">Status: <strong><span class="eq-badge eq-badge--success">Active</span></strong></span>
                            </div>
                        </div>
                        <div class="eq-related-item">
                            <div class="eq-related-item-title">Colocation Cabinet ‚Äî Full ("Shrubbery Rack B")</div>
                            <div class="eq-related-item-fields">
                                <span class="eq-related-item-field">IBX: <strong>LD5</strong></span>
                                <span class="eq-related-item-field">Qty: <strong>1</strong></span>
                                <span class="eq-related-item-field">MRC: <strong>$9,000</strong></span>
                                <span class="eq-related-item-field">Status: <strong><span class="eq-badge eq-badge--success">Active (herring removed)</span></strong></span>
                            </div>
                        </div>
                        <div class="eq-related-item">
                            <div class="eq-related-item-title">Equinix Fabric ‚Äî 10G Port (Ni! API Gateway)</div>
                            <div class="eq-related-item-fields">
                                <span class="eq-related-item-field">IBX: <strong>LD5</strong></span>
                                <span class="eq-related-item-field">Qty: <strong>2</strong></span>
                                <span class="eq-related-item-field">MRC: <strong>$6,500</strong></span>
                                <span class="eq-related-item-field">Status: <strong><span class="eq-badge eq-badge--success">Active</span></strong></span>
                            </div>
                        </div>
                        <a href="#" class="eq-related-view-all">View All</a>
                    </div>
                </div>
                <div class="slds-card">
                    <div class="slds-card__header">
                        <div class="slds-media slds-media_small">
                            <div class="slds-media__figure">
                                <span class="slds-icon_container slds-icon-standard-case">
                                    <svg class="slds-icon slds-icon_small" aria-hidden="true">
                                        <use href="assets/icons/standard-sprite/svg/symbols.svg#case"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="slds-media__body">
                                <h2 class="slds-card__header-title slds-text-heading_small">Related Cases</h2>
                            </div>
                        </div>
                    </div>
                    <div class="slds-card__body slds-card__body_inner">
                        <div class="eq-related-item">
                            <div class="eq-related-item-title"><a href="case.html">CS-4525</a></div>
                            <div class="eq-related-item-fields">
                                <span class="eq-related-item-field">Subject: <strong>Herring Not Compatible with Network Rack</strong></span>
                                <span class="eq-related-item-field">Priority: <strong><span class="eq-badge eq-badge--warning">Medium</span></strong></span>
                            </div>
                        </div>
                        <div class="eq-related-item">
                            <div class="eq-related-item-title"><a href="case.html">CS-4523</a></div>
                            <div class="eq-related-item-fields">
                                <span class="eq-related-item-field">Subject: <strong>Someone Said "It" on a Support Call</strong></span>
                                <span class="eq-related-item-field">Priority: <strong><span class="eq-badge eq-badge--error">High (resolved)</span></strong></span>
                            </div>
                        </div>
                        <a href="#" class="eq-related-view-all">View All</a>
                    </div>
                </div>
                <div class="slds-card">
                    <div class="slds-card__header">
                        <div class="slds-media slds-media_small">
                            <div class="slds-media__figure">
                                <span class="slds-icon_container slds-icon-standard-product">
                                    <svg class="slds-icon slds-icon_small" aria-hidden="true">
                                        <use href="assets/icons/standard-sprite/svg/symbols.svg#product"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="slds-media__body">
                                <h2 class="slds-card__header-title slds-text-heading_small">Shrubbery Inventory</h2>
                            </div>
                        </div>
                    </div>
                    <div class="slds-card__body slds-card__body_inner">
                        <div class="eq-related-item">
                            <div class="eq-related-item-title">Shrubbery #1 (nice, not too expensive)</div>
                            <div class="eq-related-item-fields">
                                <span class="eq-related-item-field">Location: <strong>LD5 ‚Äî Cage 12, beside Rack A</strong></span>
                                <span class="eq-related-item-field">Condition: <strong><span class="eq-badge eq-badge--success">Thriving</span></strong></span>
                            </div>
                        </div>
                        <div class="eq-related-item">
                            <div class="eq-related-item-title">Shrubbery #2 (slightly higher, two-level)</div>
                            <div class="eq-related-item-fields">
                                <span class="eq-related-item-field">Location: <strong>Pending delivery per OPP</strong></span>
                                <span class="eq-related-item-field">Condition: <strong><span class="eq-badge eq-badge--info">On Order</span></strong></span>
                            </div>
                        </div>
                        <a href="#" class="eq-related-view-all">View All</a>
                    </div>
                </div>
            </div>

            <!-- CENTER COLUMN: Details -->
            <div>
                <div class="slds-card">
                    <div class="slds-card__header">
                        <div class="slds-media slds-media_small">
                            <div class="slds-media__figure">
                                <span class="slds-icon_container slds-icon-standard-orders">
                                    <svg class="slds-icon slds-icon_small" aria-hidden="true">
                                        <use href="assets/icons/standard-sprite/svg/symbols.svg#orders"></use>
                                    </svg>
                                </span>
                            </div>
                            <div class="slds-media__body">
                                <h2 class="slds-card__header-title slds-text-heading_small">Order Details</h2>
                            </div>
                        </div>
                    </div>
                    <div class="slds-card__body">
                        <div class="eq-field-section-title">Order Information</div>
                        <div class="eq-detail-grid">
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Order Number</span><div class="slds-form-element__control"><div class="slds-form-element__static">ORD-2026-NI1</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Account Name</span><div class="slds-form-element__control"><div class="slds-form-element__static"><a href="account.html">The Knights Who Say Ni Ltd</a></div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">BAN Account Number</span><div class="slds-form-element__control"><div class="slds-form-element__static">BAN-KWSN-NI-001</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Status</span><div class="slds-form-element__control"><div class="slds-form-element__static"><span class="eq-badge eq-badge--success">Active (Pure &amp; Untempted)</span></div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Order Start Date</span><div class="slds-form-element__control"><div class="slds-form-element__static">Mar 1, 2026</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Contract Term</span><div class="slds-form-element__control"><div class="slds-form-element__static">36 months</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Contract End Date</span><div class="slds-form-element__control"><div class="slds-form-element__static">Feb 28, 2029</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Credit Hold</span><div class="slds-form-element__control"><div class="slds-form-element__static">No (Galahad's credit is pure)</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Bill To Contact</span><div class="slds-form-element__control"><div class="slds-form-element__static"><a href="contact.html">Sir Galahad the Pure</a> ("I seek only the purest invoices")</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Customer Project Manager</span><div class="slds-form-element__control"><div class="slds-form-element__static"><a href="contact.html">Roger the Shrubber</a> (ensures shrubberies arrive with the cabinets)</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">COM Support</span><div class="slds-form-element__control"><div class="slds-form-element__static">Premium (The Head Knight demanded it)</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Commercial Solutions</span><div class="slds-form-element__control"><div class="slds-form-element__static">Colocation + Interconnection + Shrubbery Hosting</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Purity Score</span><div class="slds-form-element__control"><div class="slds-form-element__static">97% (lost 3% when Galahad glanced at Castle Anthrax pricing)</div></div></div>
                            <div class="slds-form-element slds-form-element_readonly"><span class="slds-form-element__label">Herring Compliance</span><div class="slds-form-element__control"><div class="slds-form-element__static">N/A (herrings not yet supported in rack mount format)</div></div></div>
                        </div>
                        <div class="eq-field-section-title">Billing Address</div>
                        <div class="eq-detail-grid">
                            <div class="slds-form-element slds-form-element_readonly eq-full-width"><span class="slds-form-element__label">Billing Address</span><div class="slds-form-element__control"><div class="slds-form-element__static">The Dark Forest, Just Past the Swamp Castle<br>Turn Left at the Gorge of Eternal Peril<br>England (attn: Sir Galahad the Pure, Accounts Payable)</div></div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT COLUMN: Activity -->
            <div>
                <div id="eq-activity-tabs"></div>
            </div>
        </div>

        <!-- old tab content removed ‚Äî now component-driven via EQ.renderActivityTabs() -->

        <!-- DESIGN NOTES SECTION -->
        <section class="eq-design-notes" aria-label="Design Notes">
            <button class="eq-design-notes-toggle" aria-expanded="false" onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded')==='false'); this.nextElementSibling.classList.toggle('slds-hide');">
                &#x2139;&#xFE0E; Design Notes &amp; Feedback
            </button>
            <div class="slds-hide eq-design-notes-content">

                <h3>Assembly Decisions</h3>
                <ul>
                    <li><strong>Left column (Related):</strong> Order Line Items with provisioning status badges, Related Cases, and Shrubbery Inventory. Compact related lists surface fulfillment details at a glance.</li>
                    <li><strong>Center column (Details):</strong> Order information (number, status, dates, billing), key terms, and contract references. The Path component above shows the order lifecycle stage-gate.</li>
                    <li><strong>Right column (Activity):</strong> Component-driven tabbed interface: Activity (with sub-tabs, input module, filters, timeline), Agentforce (auto-populate &amp; price validation cards), Community, and Chatter. Agentforce "Best Next Step" card sits above the tabs.</li>
                    <li><strong>Path component:</strong> Now uses <code>EQ.renderPath()</code> with field-based exit criteria per stage. Toggle is text-based (no SVG dependency). Each stage shows label/value pairs with CSS-only status circles.</li>
                </ul>

                <h3>Order Lifecycle Stages &mdash; Research &amp; Rationale</h3>
                <p>The order stages used in this prototype are grounded in industry best practices across three domains: Salesforce platform conventions, enterprise order-to-cash (O2C) process standards, and Equinix-specific colocation fulfillment workflows. Below is a deep decomposition of each stage, its exit criteria rationale, and the source material that informed it.</p>

                <h3>Stage Decomposition</h3>

                <p><strong>Stage 1: Order Submitted (Draft)</strong><br>
                Maps to Salesforce's default <em>Draft</em> status, where orders are created but not yet validated. Salesforce requires a Draft status code on order creation, and CPQ enforces that a Primary Quote with Approved status exists before order generation. In the Equinix Customer Portal, this corresponds to the "Submitted" status &mdash; the request is in the system and pending review. Exit criteria focus on PO confirmation, line-item catalog validation, and credit check &mdash; these are the minimum gates before any downstream work begins. In O2C literature, this maps to "Order Entry and Validation," where accuracy of product specs, quantities, pricing, and delivery needs are confirmed before processing.</p>

                <p><strong>Stage 2: Validated &amp; Approved</strong><br>
                Combines Equinix's "Pending Approval" and "Accepted" statuses into a single user-facing gate. Salesforce documentation recommends that custom status values be assigned a status category (Draft or Activated); this stage represents the last Draft-category gate before activation. Exit criteria include billing address configuration, credit clearance, deal desk sign-off on pricing, and legal review of contract terms. In Oracle's COM/SOM/TOM architecture, this is where the Central Order Management layer validates commercial terms before decomposing into service and technical orders. The O2C framework calls this the bridge between "Order Entry" and "Processing &amp; Fulfillment" &mdash; specifically the credit management and pricing validation step.</p>

                <p><strong>Stage 3: Provisioning</strong><br>
                The most complex stage from a decomposition perspective. This is where order decomposition occurs &mdash; the commercial order (what the customer bought) is broken into technical fulfillment tasks (what needs to happen in the data center). Equinix documentation shows statuses "In Configuration," "In Review," and "Pending Space" during this phase, reflecting the multi-step nature of colocation provisioning: cabinet allocation, power configuration, cross-connect installation, and network testing. In Salesforce Industries Order Management, this is where the orchestration plan is generated &mdash; it identifies which functions to perform on each order item, which external systems fulfill each item, and dependencies between items. Oracle's OSM model decomposes this further into SOM (Service Order Management) and TOM (Technical Order Management) layers. Exit criteria are intentionally granular &mdash; space allocated, power configured, cross-connects installed, acceptance testing passed &mdash; because these are the physical fulfillment milestones that operations teams track.</p>

                <p><strong>Stage 4: Active</strong><br>
                Maps to Salesforce's built-in "Activated" status category. Equinix shows "Completed" in their portal when provisioning is done and services are live. This is the steady-state operational stage where SLA tracking, monitoring, and billing are active. Exit criteria here are unusual because they represent ongoing operational health rather than one-time gates: SLA compliance, monitoring enabled, first invoice generated, and customer acceptance signed. The O2C framework captures this as the intersection of "Invoicing" and "Accounts Receivable Management" &mdash; the order is fulfilled, and the focus shifts to ongoing revenue recognition and cash collection.</p>

                <p><strong>Stage 5: Renewal / Expansion</strong><br>
                Not a standard Salesforce order status, but represents a critical business process. In B2B colocation, the renewal discussion typically begins 6&ndash;12 months before contract expiration. This stage serves as a forward-looking checklist that bridges Order Management and Opportunity Management &mdash; renewal criteria met triggers a new opportunity or contract amendment. Exit criteria include renewal timeline established, upsell opportunities identified, contract terms reviewed, and customer success engagement confirmed. This maps to the O2C "Performance Measurement" stage, where cycle-time analytics and customer health scores inform the renewal approach.</p>

                <h3>Decomposition Deep Dive</h3>

                <p>Order decomposition is the process of converting a commercial order (customer-facing products) into technical fulfillment tasks (resource-facing services). This concept comes from telecom order management but applies directly to colocation:</p>

                <p><strong>Commercial Layer (what the customer sees):</strong> "2 colocation cabinets + 2 Fabric 10G ports in LD5." This is the order as it appears in CPQ and on the Order record.</p>

                <p><strong>Technical Decomposition (what operations does):</strong> Each line item decomposes into sub-tasks routed to different teams:</p>
                <ul>
                    <li><em>Cabinet line item</em> &rarr; Space allocation (facilities team) + Power provisioning (electrical team) + Physical installation (smart hands) + Environmental monitoring setup (NOC)</li>
                    <li><em>Fabric port line item</em> &rarr; Port allocation (network engineering) + Cross-connect ordering (interconnection team) + BGP/peering configuration (network ops) + Bandwidth testing (QA)</li>
                </ul>

                <p><strong>Orchestration:</strong> These sub-tasks have dependencies. Power must be configured before cabinet installation. Cross-connects require both physical port allocation and logical network configuration. Salesforce Industries OM handles this through orchestration plans that sequence and parallelize tasks, monitoring completion and escalating blockers. Oracle's OSM model formalizes this as COM &rarr; SOM &rarr; TOM, where each layer owns a different scope of fulfillment.</p>

                <p><strong>Why this matters for the UI:</strong> The exit criteria in our Path component are the user-facing summary of this decomposition. Each criterion (e.g., "Space Allocated: LD5 Cage 12") represents the completion of a sub-order that may involve multiple teams and systems. The Path gives sales, operations, and customer success a single view of where the order stands without needing to check provisioning systems, billing platforms, or NOC dashboards separately.</p>

                <h3>Sources &amp; Further Reading</h3>
                <ul>
                    <li><a href="https://docs.equinix.com/colocation/managing-orders/order-statuses/" target="_blank">Equinix: Order Statuses</a> &mdash; Official Equinix Customer Portal documentation listing all colocation order statuses (Submitted, Pending Approval, In Configuration, In Progress, Completed, etc.).</li>
                    <li><a href="https://trailhead.salesforce.com/content/learn/modules/industries-order-management-decomposition-foundations/meet-industries-order-management-decomposition" target="_blank">Salesforce Trailhead: Order Management Decomposition Foundations</a> &mdash; Explains how Industries OM decomposes commercial products into technical fulfillment tasks and orchestration plans.</li>
                    <li><a href="https://trailhead.salesforce.com/content/learn/modules/industries-cpq-orders/submit-and-monitor-orders" target="_blank">Salesforce Trailhead: Submit and Monitor Orders</a> &mdash; Guide to order submission validation, status transitions, and monitoring within Industries CPQ.</li>
                    <li><a href="https://www.salesforceben.com/implement-salesforce-path/" target="_blank">Salesforce Ben: Enable Path in 6 Steps</a> &mdash; Best practices for configuring Salesforce Path, including max 5 fields per stage and guidance text best practices.</li>
                    <li><a href="https://trailhead.salesforce.com/content/learn/modules/om-salesforce-order-management/om-get-started-order-management" target="_blank">Salesforce Trailhead: Order Lifecycle Management</a> &mdash; Full order lifecycle from capture through fulfillment, delivery, and service.</li>
                    <li><a href="https://docs.oracle.com/communications/E96856-01/doc.74/e96918/cpt_order_process.htm" target="_blank">Oracle OSM: How OSM Processes Orders</a> &mdash; Deep technical reference on the COM/SOM/TOM three-tier order architecture, decomposition into order components, and orchestration plan generation.</li>
                    <li><a href="https://conexiom.com/blog/what-is-the-order-to-cash-process-and-what-are-its-8-stages/" target="_blank">Conexiom: 8 Stages of Order-to-Cash</a> &mdash; Industry-standard O2C process: Order Entry &amp; Validation, Processing &amp; Fulfillment, Shipping &amp; Delivery, Invoicing, AR Management, Cash Application, Credit Management, Performance Analytics.</li>
                    <li><a href="https://trailhead.salesforce.com/content/learn/modules/industries-order-management-foundations/dive-into-industries-order-management" target="_blank">Salesforce Trailhead: Industries Order Management Foundations</a> &mdash; Decomposition and orchestration concepts for B2B and B2C order fulfillment.</li>
                    <li><a href="https://developer.salesforce.com/docs/atlas.en-us.packagingGuide.meta/packagingGuide/coa_order_status.htm" target="_blank">Salesforce Developer: Order Status Values</a> &mdash; Technical reference for Draft/Activated status categories and how custom values map to status codes.</li>
                    <li><a href="https://www.ksolves.com/blog/salesforce/order-management-system-guide" target="_blank">Ksolves: Salesforce Order Management System Guide 2025</a> &mdash; Overview of Salesforce OMS capabilities for enterprise order management.</li>
                    <li><a href="https://trailhead.salesforce.com/content/learn/projects/customize-a-sales-path-for-your-team/customize-a-sales-path" target="_blank">Salesforce Trailhead: Customize a Sales Path</a> &mdash; Hands-on project for configuring Path with key fields and guidance at each stage.</li>
                </ul>

                <h3>Open Questions</h3>
                <ul>
                    <li>Should Order Line Items show per-item provisioning progress bars, or are status badges sufficient?</li>
                    <li>Should the "Validated &amp; Approved" stage be split into two stages (Credit Review + Deal Desk Approval) for orders above a certain threshold?</li>
                    <li>Should the Provisioning stage dynamically decompose its exit criteria based on line-item types (e.g., cabinet criteria vs. Fabric port criteria)?</li>
                    <li>For orders linked to Solutions, should there be a "Related Solutions" card in the left column?</li>
                    <li>Should Auto-Populate from Quote be a one-click header button rather than an Agentforce tab card?</li>
                    <li>Should the Renewal stage auto-create an Opportunity when renewal criteria are met?</li>
                </ul>

                <h3>Feedback</h3>
                <p>Have feedback on this page's layout or the stage decomposition? Submit via Slack or annotate directly using the Annotations toggle above.</p>
            </div>
        </section>

</main>

    <!-- BEFORE / AFTER COMPARISON OVERLAY -->
    <div class="eq-comparison-overlay" id="comparisonOverlay" role="dialog" aria-label="Before and After Comparison">
        <div class="eq-comparison-panel">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h2 style="font-size:1.25rem; font-weight:700; color:#080707;">Current State vs. Proposed Design System</h2>
                <button class="slds-button slds-button_neutral" onclick="document.getElementById('comparisonOverlay').classList.remove('is-visible'); document.getElementById('toggleComparison').classList.remove('is-on'); document.getElementById('toggleComparison').setAttribute('aria-checked','false');">Close</button>
            </div>
            <div class="eq-comparison-grid">
                <div class="eq-before-col">
                    <h3 style="font-size:1rem; font-weight:700; margin-bottom:0.75rem;">‚ùå Before (Current State)</h3>
                    <div class="eq-metric-row"><span>Field sections per page</span><strong style="color:#EA001E;">175‚Äì225</strong></div>
                    <div class="eq-metric-row"><span>Action buttons per page</span><strong style="color:#EA001E;">190‚Äì203</strong></div>
                    <div class="eq-metric-row"><span>Screens of scrolling</span><strong style="color:#EA001E;">3‚Äì5</strong></div>
                    <div class="eq-metric-row"><span>Lightning components loaded</span><strong style="color:#EA001E;">600‚Äì686</strong></div>
                    <div class="eq-metric-row"><span>Time to find key info</span><strong style="color:#EA001E;">8‚Äì12 min</strong></div>
                    <div class="eq-metric-row"><span>Systems to check (swivel chair)</span><strong style="color:#EA001E;">3 (SF + Siebel + Email)</strong></div>
                    <div class="eq-metric-row"><span>Object count</span><strong style="color:#EA001E;">800+ ‚Üí 160 (in progress)</strong></div>
                </div>
                <div class="eq-after-col">
                    <h3 style="font-size:1rem; font-weight:700; margin-bottom:0.75rem;">‚úÖ After (Proposed Design System)</h3>
                    <div class="eq-metric-row"><span>Field sections per page</span><strong style="color:#2E844A;">4‚Äì6 grouped sections</strong></div>
                    <div class="eq-metric-row"><span>Primary action buttons</span><strong style="color:#2E844A;">3‚Äì5 + overflow menu</strong></div>
                    <div class="eq-metric-row"><span>Screens of scrolling</span><strong style="color:#2E844A;">&lt; 2</strong></div>
                    <div class="eq-metric-row"><span>Three-column layout</span><strong style="color:#2E844A;">Related | Details | Activity</strong></div>
                    <div class="eq-metric-row"><span>Time to find key info</span><strong style="color:#2E844A;">30 sec ‚Äì 2 min</strong></div>
                    <div class="eq-metric-row"><span>Systems to check</span><strong style="color:#2E844A;">1 (Salesforce only)</strong></div>
                    <div class="eq-metric-row"><span>Agentforce touchpoints</span><strong style="color:#2E844A;">2‚Äì3 per object</strong></div>
                </div>
            </div>
        </div>
    </div>

<style>
    .eq-design-notes { margin: 1.5rem 1rem; border-top: 1px solid #DDDBDA; padding-top: 1rem; }
    .eq-design-notes-toggle { background: none; border: 1px solid #DDDBDA; border-radius: 4px; padding: 0.5rem 1rem; font-size: 0.8125rem; font-weight: 600; color: #706E6B; cursor: pointer; display: flex; align-items: center; }
    .eq-design-notes-toggle:hover { background: #F3F3F3; }
    .eq-design-notes-content { padding: 1rem; margin-top: 0.75rem; background: #FAFAF9; border: 1px solid #DDDBDA; border-radius: 4px; font-size: 0.8125rem; line-height: 1.6; color: #3E3E3C; }
    .eq-design-notes-content h3 { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; color: #706E6B; margin: 1rem 0 0.375rem; }
    .eq-design-notes-content h3:first-child { margin-top: 0; }
    .eq-design-notes-content ul { padding-left: 1.25rem; margin: 0; }
    .eq-design-notes-content li { margin-bottom: 0.375rem; }
</style>

</div><!-- /slds-scope -->
<script src="eq-components.js"></script>
<script src="eq-behaviors.js"></script>
<script src="eq-nav.js"></script>
<script>
// Initialize header
EQ.renderHeader({
  objectType: 'orders',
  objectLabel: 'Order',
  title: 'ORD-2026-NI1 ‚Äî The Sacred Order of Shrubbery Hosting',
  actions: [{label: 'Edit'}, {label: 'Activate'}],
  fields: [
    {label: 'Account', value: '<a href="account.html">The Knights Who Say Ni Ltd</a>'},
    {label: 'Status', value: '<span class="eq-badge eq-badge--success">Activated</span>'},
    {label: 'Order Start Date', value: 'Mar 1, 2026'},
    {label: 'Contract', value: '<a href="contract.html">CON-00031415-NI</a>'},
    {label: 'Total Amount', value: '$580,000.00'}
  ]
});

// Initialize order lifecycle path (industry-aligned stages)
EQ.renderPath({
  target: 'eq-path',
  advanceLabel: 'Mark Status as Complete',
  stages: [
    { id:'submitted', label:'Order Submitted', status:'complete',
      exitCriteria: [
        {label:'Purchase Order', value:'PO-NI-2026-001 confirmed', done:true},
        {label:'Line Items Validated', value:'3 of 3 against catalog', done:true},
        {label:'Credit Check', value:'Passed (Galahad\'s credit is pure)', done:true},
        {label:'Primary Quote', value:'QT-2026-NI1 ‚Äî Approved', done:true},
        {label:'Billing Contact', value:'Sir Galahad the Pure', done:true}
      ],
      guidance: [
        'Verify all line items match the approved quote before submission',
        'Confirm PO number and billing contact with customer procurement',
        'Credit check must pass before order can advance ‚Äî escalate holds to finance',
        'CPQ requires Primary Quote status = Approved for order generation'
      ]
    },
    { id:'validated', label:'Validated & Approved', status:'complete',
      exitCriteria: [
        {label:'Billing Address', value:'The Dark Forest, past Swamp Castle', done:true},
        {label:'Deal Desk Sign-off', value:'Approved ‚Äî Mar 1, 2026', done:true},
        {label:'Contract Terms', value:'36 months, Premium SLA', done:true},
        {label:'Pricing Validation', value:'Matches rate card RC-2026-Q1', done:true},
        {label:'Credit Hold', value:'None', done:true}
      ],
      guidance: [
        'Billing address must be confirmed before activation ‚Äî errors here delay invoicing',
        'Deal desk approval required for any non-standard pricing or discount > 10%',
        'Verify contract term matches the opportunity close terms',
        'Pricing validation cross-checks order amounts against current rate cards'
      ]
    },
    { id:'provisioning', label:'Provisioning', status:'complete',
      exitCriteria: [
        {label:'Space Allocated', value:'LD5 Cage 12 ‚Äî Racks A & B', done:true},
        {label:'Power Configured', value:'208V feeds tested', done:true},
        {label:'Cross-Connects', value:'2x Fabric 10G installed', done:true},
        {label:'Acceptance Testing', value:'Passed ‚Äî all ports active', done:true},
        {label:'Shrubbery Installed', value:'Per clause 4.2.1', done:true}
      ],
      guidance: [
        'Provisioning decomposes into sub-tasks: space, power, network, and physical install',
        'Cross-connects require both port allocation (network eng) and physical install (smart hands)',
        'Power must be configured before cabinet installation can begin',
        'Customer acceptance testing is the final gate before activation'
      ]
    },
    { id:'active', label:'Active', status:'current',
      exitCriteria: [
        {label:'Services Live', value:'All 3 line items operational', done:true},
        {label:'SLA Tracking', value:'Premium ‚Äî 99.99% uptime', done:true},
        {label:'Monitoring', value:'Enabled ‚Äî alerts configured', done:true},
        {label:'First Invoice', value:'Generated ‚Äî Mar 2026', done:true},
        {label:'Customer Acceptance', value:'Signed by Galahad', done:true}
      ],
      guidance: [
        'Monitor SLA compliance ‚Äî any breach triggers automatic case creation',
        'First invoice must generate within 30 days of activation',
        'Customer acceptance signature confirms handoff from provisioning to operations',
        'Ongoing: watch for capacity utilization > 80% to trigger expansion conversation'
      ],
      advanceBtn: {label:'Advance to Renewal', disabled:true}
    },
    { id:'renewal', label:'Renewal / Expansion', status:'incomplete',
      exitCriteria: [
        {label:'Renewal Timeline', value:'Jan 2029 (6 months before expiry)', done:false},
        {label:'Upsell Review', value:'Second shrubbery opportunity identified', done:false, badge:'info'},
        {label:'Contract Terms Review', value:'Pending ‚Äî due Q4 2028', done:false},
        {label:'Customer Success', value:'QBR cadence active', done:false, badge:'warning'},
        {label:'Renewal Opportunity', value:'Not yet created', done:false}
      ],
      guidance: [
        'Begin renewal discussions 6-12 months before contract expiration',
        'Review capacity utilization and growth projections for upsell opportunities',
        'Customer success QBR should surface renewal readiness signals',
        'Auto-create renewal opportunity when timeline criteria are met'
      ],
      advanceBtn: {label:'Create Renewal Opportunity', disabled:true}
    }
  ]
});

// Initialize activity tabs with order-specific data
EQ.renderActivityTabs({
  agentforce: {
    title: 'Best Next Step: Review Upcoming Invoice',
    description: 'Next invoice generates in 5 days. Review line-item charges against rate card RC-2026-Q1 to catch discrepancies before customer receives it.',
    btnLabel: 'Preview Invoice',
    timeSaved: 'Suggested based on billing cycle and order terms'
  },
  timeline: [
    { icon:'task', title:'Order Activated ‚Äî The Purest Activation', href:'#', meta:'Mar 2026',
      body:'All line items provisioned and live. LD5: 2 cabs + 2 Fabric ports. Sir Galahad personally inspected each cable and declared them pure and untainted by vendor lock-in.' },
    { icon:'email', title:'Email: Invoice Purity Check', href:'#', meta:'Feb 2026',
      body:'Galahad reviewed the first invoice. The line item for Miscellaneous Charges demanded itemization. Resolved after breaking $47.50 into 3 sub-items.' },
    { icon:'event', title:'Provisioning Delay: Herring Incident', href:'#', meta:'Jan 2026',
      body:'Installation was delayed 2 days when Roger the Shrubber attempted to mount a herring in Rack B as a network topology enhancement. NOC confirmed herrings are not RJ45-compatible.' },
    { icon:'log_a_call', title:'Call: Castle Anthrax Temptation', href:'#', meta:'Dec 2025',
      body:'Galahad received a call from Castle Anthrax offering 40% discount on switching providers. The Black Knight intervened. Order remained intact.' }
  ],
  agentforceCards: [
    { title:'Agentforce: Auto-Populate from Quote',
      description:'Automatically create an Order with line items from an approved Quote, mapping products, quantities, and pricing. Includes purity seal of approval workflow.',
      btnLabel:'Create Pure Order from Quote', timeSaved:'Saves ~15 min of manual data entry per order' },
    { title:'Agentforce: Price Validation',
      description:'Cross-check order pricing against current rate cards, approved discounts, and contract terms. Flag discrepancies before activation.',
      btnLabel:'Validate Pricing Purity', timeSaved:'Saves ~8 min; prevents billing errors' }
  ],
  chatter: [
    { author:'Sir Galahad', time:'Today',
      body:'All line items provisioned and live. I personally inspected each cable and they are pure and untainted. The shrubbery in Cabinet A meets clause 4.2.1 specifications.' },
    { author:'Roger the Shrubber', time:'Yesterday',
      body:'The herring incident has been resolved. NOC team confirmed all non-standard items removed from Rack B. RJ45 connections restored to full purity.' }
  ]
});
</script>
</body>
</html>
